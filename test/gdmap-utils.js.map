{"version":3,"file":"gdmap-utils.js","sources":["../src/components/base/Overlays.js","../src/components/base/Enum.js","../src/js/utils.js","../node_modules/_style-inject@0.3.0@style-inject/dist/style-inject.es.js","../src/components/NormalText/NormalText.js","../src/components/Polyrect/Polyrect.js","../src/components/PolyrectList/PolyrectList.js","../src/components/Text3D/Text3D.js","../src/components/RadarChart/RadarChart.js","../src/components/TextQueue/TextQueue.js","../src/components/ShadowText/ShadowText.js","../src/components/base/gl_Overlays.js","../src/components/gl_Polyrect/gl_Polyrect.js","../src/components/gl_PolyrectList/gl_PolyrectList.js","../src/main.js"],"sourcesContent":["/**\r\n * 地图覆盖物基类\r\n */\r\nexport default class Overlays {\r\n  constructor(opt) {\r\n    this.__initialize(opt || {})\r\n  }\r\n\r\n  __initialize(opt) {\r\n    this.CLASS_NAME = this.constructor.name\r\n    this.__map = opt.map || null\r\n    this.__position = opt.position\r\n    this.__zIndex = opt.zIndex || 10\r\n    this.__extData = opt.extData\r\n    if (opt.map) {\r\n      setTimeout(() => {\r\n        this.setMap(opt.map)\r\n      }, 1);\r\n    }\r\n  }\r\n  // 对overlays递归调用methodName方法.\r\n  __callMethod(overlays, methodName, ...methodArguments) {\r\n    if (overlays === null) return\r\n    if (Array.isArray(overlays)) {\r\n      overlays.forEach(o => {\r\n        // o[methodName](...methodArguments)\r\n        this.__callMethod(o, methodName, ...methodArguments)\r\n      })\r\n    } else if (typeof overlays === 'object') {\r\n      if (typeof overlays[methodName] === 'function') {\r\n        overlays[methodName](...methodArguments)\r\n      } else {\r\n        console.warn('对象找不到方法:' + methodName, overlays)\r\n      }\r\n    } else {\r\n      console.warn('传入值不是实例对象', overlays)\r\n    }\r\n  }\r\n\r\n  // 批量赋值,假定传入的参数在内部均为开头加上 _\r\n  __changeOptions(opt, keyList = null) {\r\n    let isChange = false\r\n    let list = Array.isArray(keyList) ? keyList : Object.keys(opt)\r\n    list.forEach(key => {\r\n      if (!(key in opt)) return\r\n      let sourceKey = '_' + key\r\n      let value = this[sourceKey]\r\n      if (value === undefined) {\r\n        console.warn('未找到该字段属性:' + key)\r\n      }\r\n      if (value !== opt[key]) {\r\n        this[sourceKey] = opt[key]\r\n        isChange = true\r\n      }\r\n    })\r\n    return isChange\r\n\r\n  }\r\n\r\n  getzIndex() {\r\n    return this.__zIndex\r\n  }\r\n\r\n  setzIndex(zIndex) {\r\n    this.__zIndex = zIndex\r\n    let overlays = this.getOverlays()\r\n    this.__callMethod(overlays, 'setzIndex', zIndex)\r\n  }\r\n\r\n  // 获取自定义对象\r\n  getExtData() {\r\n    return this.__extData\r\n  }\r\n  // 设置自定义对象\r\n  setExtData(data) {\r\n    this.__extData = data\r\n  }\r\n  // 获取经纬度\r\n  getPosition() {\r\n    return this.__position\r\n  }\r\n  // 设置经纬度\r\n  setPosition(position) {\r\n    this.__position\r\n    let overlays = this.getOverlays()\r\n    this.__callMethod(overlays, 'setPosition', position)\r\n  }\r\n\r\n  // 获取所有覆盖物方法,内部调用,需要子类自行实现\r\n  getOverlays() {\r\n    return this.__overlays\r\n  }\r\n\r\n  // 设置所有覆盖物 内部调用.\r\n  setOverlays(overlays) {\r\n    this.__overlays = overlays\r\n  }\r\n\r\n  isShow() {\r\n    return this.getMap() !== null\r\n  }\r\n\r\n  // 显示在地图上.\r\n  setMap(map) {\r\n\r\n    this.__map = map\r\n    let overlays = this.getOverlays()\r\n    this.__callMethod(overlays, 'setMap', map)\r\n  }\r\n\r\n  getMap() {\r\n    return this.__map || null\r\n  }\r\n\r\n  // 销毁\r\n  destroy() {\r\n    this.setMap(null)\r\n  }\r\n}","\r\nexport let MIN_ZOOM = 1   // 地图最小级别\r\nexport let MAX_ZOOM = 19  // 地图最大级别\r\n\r\nexport let DEFAULT_IMAGE_WIDTH = 25\r\nexport let DEFAULT_IMAGE_HEIGHT = 35","/**\r\n * 如果value为undefined则返回ifundefineValue,否则返回value\r\n * @param {*} value 传入值\r\n * @param {*} ifundefineValue 默认值\r\n */\r\nexport function getDefaultByundefined(value, ifundefineValue) {\r\n  return value === undefined ? ifundefineValue : value\r\n}\r\n\r\n/**\r\n * 将字符串形式经纬度网格转为数组形式\r\n * x1,y1;x2,y2,..|xn,yn;xn+1,yn+1..\r\n * @param {String} coordinate \r\n * @param {String} sep\r\n * @returns {Array}[[[x1,y1],[x2,y2],...],[[xn,yn],[xn+1,yn+1],...]]\r\n */\r\nexport function transposePolyrect(coordinate, sep = '|') {\r\n  var arr = []\r\n  let pattern = /\\d+(\\.\\d+)?/g\r\n  if (typeof coordinate === 'string') {\r\n    let temp = coordinate.split(sep)\r\n    temp.forEach(t => {\r\n      if (t) {\r\n        let re = [];\r\n        let mat = t.match(pattern);\r\n        for (var i = 1; i < mat.length; i += 2) {\r\n          var x = parseFloat(mat[i - 1]);\r\n          var y = parseFloat(mat[i]);\r\n          re.push([x, y]);\r\n        }\r\n        arr.push(re)\r\n      }\r\n    })\r\n  } else {\r\n    console.warn('经纬度格式有误:', coordinate)\r\n  }\r\n  return arr;\r\n}\r\n/**\r\n * 获取字符串的宽度\r\n * @param {String} str \r\n */\r\nexport function getTextWidth(str, fontSize = 20) {\r\n  if (!str) return 0;\r\n  let temp = str.replace(/[^\\\\x00-\\\\xff]/g, 'aa')\r\n  return (temp.length * fontSize) / 2\r\n}\r\n\r\n/**\r\n * 筛选出修改目标opt的不相同的属性\r\n * @param {Object} targetOpt 目标opt\r\n * @param {Object} changeOpt 需要改变的opt\r\n * @returns {Object} 返回差异对象(changeopt中的属性值和targetOpt中相同时返回null)\r\n */\r\nexport function getDiffObject(targetOpt, changeOpt) {\r\n  let rst = {}\r\n  let changeFlag = false\r\n  for (let key in changeOpt) {\r\n    let targetValue = targetOpt[key]\r\n    if (targetValue === undefined) {\r\n      console.warn('目标对象未找到该参数:' + key)\r\n    }\r\n    let value = changeOpt[key]\r\n    if (targetValue !== value) {\r\n      rst[key] = value\r\n      changeFlag = true\r\n    }\r\n  }\r\n  return changeFlag ? rst : null\r\n}\r\n/**\r\n * 返回两个区域的交集\r\n * @param {*} parentMin \r\n * @param {*} parentMax \r\n * @param {*} min \r\n * @param {*} max \r\n */\r\nexport function getIntersection(parentMin, parentMax, min, max) {\r\n  let minZoom = parentMin < min ? min : parentMin\r\n  let maxZoom = parentMax > max ? max : parentMax\r\n  return {\r\n    minZoom,\r\n    maxZoom\r\n  }\r\n}\r\n// 合并obj\r\nexport function getMergeObject(...objs) {\r\n  let rst = objs.reduce((pre, sur) => {\r\n    if (!sur) return pre\r\n    return {\r\n      ...pre,\r\n      ...sur\r\n    }\r\n  }, {})\r\n  return rst\r\n}\r\n\r\n// 求角度\r\nexport function getAngle(px, py, mx, my) {\r\n  var x = Math.abs(px - mx);\r\n  var y = Math.abs(py - my);\r\n  var z = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n  if (z == 0) return 0;\r\n  var cos = y / z;\r\n  var radina = Math.acos(cos); //用反三角函数求弧度\r\n\r\n  var angle = 180 * radina / Math.PI; //将弧度转换成角度\r\n  //因为算出来的值是[0,90),需要转成[0,360)\r\n  if (mx >= px) {\r\n    if (my >= py) {\r\n      angle = 90 - angle;\r\n    } else {\r\n      angle = 270 + angle;\r\n    }\r\n  } else {\r\n    if (my >= py) {\r\n      angle = 90 + angle;\r\n    } else {\r\n      angle = 270 - angle;\r\n    }\r\n  }\r\n  return angle;\r\n}","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import './NormalText.scss'\r\nimport Overlays from '../base/Overlays'\r\nimport {\r\n  getTextWidth\r\n} from '../../js/utils'\r\n\r\n/**\r\n * 不用高德原生的主要原因是,text会影响外面网格的鼠标事件,处理起来很麻烦\r\n * opt :\r\n * text : 显示的文字 String\r\n * textColor : 文字颜色 String #fff\r\n * position : 定位经纬度\r\n * offsetTop:Number\r\n * offsetLeft:Number\r\n */\r\nexport default class NormalText extends Overlays {\r\n  constructor(opt) {\r\n    super(opt)\r\n    this._initialize(opt || {})\r\n  }\r\n  _initialize(opt) {\r\n    this._text = opt.text || ''\r\n    this._textColor = opt.textColor || '#fff'\r\n    this._paddingWidth = opt.paddingWidth || 20\r\n    this._textSize = opt.textSize || 20\r\n    this._paddingHeight = opt.paddingHeight || 10\r\n    this._offsetTop = opt.offsetTop || 0\r\n    this._offsetLeft = opt.offsetLeft || 0\r\n    this._createMarker()\r\n    // opt.map && this.setMap(opt.map)\r\n  }\r\n\r\n  _createMarker() {\r\n    let width = getTextWidth(this._text, this._textSize) + this._paddingWidth\r\n    let height = this._textSize + this._paddingHeight\r\n    let dom = (this._dom = this._createElement(height, width))\r\n    let marker = new AMap.Marker({\r\n      position: this.getPosition(),\r\n      offset: new AMap.Pixel(\r\n        -width / 2 + this._offsetLeft,\r\n        -height / 2 + this._offsetTop\r\n      ),\r\n      content: dom.body,\r\n      bubble: true,\r\n      zIndex: this.getzIndex()\r\n    })\r\n    this.setOverlays(marker)\r\n  }\r\n  _createElement(height, width) {\r\n    let body = document.createElement('div')\r\n    body.className = 'dcmap-normaltext-container'\r\n\r\n    // body.style.width = width + 'px'\r\n    body.style.height = height + 'px'\r\n    let text = document.createElement('div')\r\n    text.className = 'text'\r\n    text.style.width = width + 'px'\r\n    text.style.fontSize = this._textSize + 'px'\r\n    text.style.color = this._textColor\r\n    text.innerText = this._text\r\n    body.appendChild(text)\r\n    return {\r\n      body,\r\n      text\r\n    }\r\n  }\r\n\r\n  getTextColor() {\r\n    return this._textColor\r\n  }\r\n\r\n  setTextColor(color) {\r\n    this._textColor = color\r\n    let text = this._dom.text\r\n    text.style.color = this._textColor\r\n  }\r\n\r\n  getValue() {\r\n    return this._text\r\n  }\r\n\r\n  setValue(value) {\r\n    this._text = value\r\n    let text = this._dom.text\r\n    text.innerText = this._text\r\n  }\r\n}","// import './Polyrect.scss'\r\nimport {\r\n  MIN_ZOOM,\r\n  MAX_ZOOM\r\n} from '../base/Enum'\r\nimport {\r\n  getDefaultByundefined,\r\n  transposePolyrect,\r\n  getIntersection\r\n} from '../../js/utils.js'\r\nimport Overlays from '../base/Overlays'\r\nimport NormalText from '../NormalText/NormalText.js'\r\n/**\r\n * 后期优化: 最佳做法应该是把canvas和dom渲染模式拆成两个类实现,\r\n * 后面有时间的话重新写一下\r\n * opt :\r\n * map\r\n * coordinate\r\n * checkCoordinate\r\n * strokeColor\r\n * strokeOpacity\r\n * strokeWeight\r\n * fillColor\r\n * fillOpacity\r\n * textOption\r\n * textClass\r\n * click\r\n * mouseover\r\n * mouseout\r\n * useCanvas\r\n * canvasDom\r\n */\r\nexport default class Polyrect extends Overlays {\r\n  constructor(opt) {\r\n    super(opt)\r\n    this._clickHandle = this._clickHandle.bind(this)\r\n    this._mouseOut = this._mouseOut.bind(this)\r\n    this._mouseOver = this._mouseOver.bind(this)\r\n    this._initialize(opt || {})\r\n  }\r\n  _initialize(opt) {\r\n    // 网格颜色样式\r\n    this._strokeColor = opt.strokeColor || '#f00'\r\n    this._strokeOpacity = getDefaultByundefined(opt.strokeOpacity, 0.8)\r\n    this._strokeWeight = getDefaultByundefined(opt.strokeWeight, 1)\r\n    this._fillColor = opt.fillColor || 'blue'\r\n    this._fillOpacity = getDefaultByundefined(opt.fillOpacity, 0.2)\r\n\r\n    // 文字样式\r\n    this._textOption = opt.textOption || {\r\n      text: opt.text || '未输入文字内容',\r\n      textColor: opt.textColor || 'red'\r\n    }\r\n\r\n    // 事件\r\n    this._click = opt.click\r\n    this._mouseover = opt.mouseover\r\n    this._mouseout = opt.mouseout\r\n\r\n    // 是否使用canvas绘制\r\n    this._useCanvas = getDefaultByundefined(opt.useCanvas, false)\r\n    // this._canvasDom = opt.canvasDom\r\n    // 网格坐标\r\n    this._coordinate = transposePolyrect(opt.coordinate)\r\n    this._checkCoordinate = transposePolyrect(opt.checkCoordinate || '')\r\n    // 如果有简易网格,创建简易网格绑定事件\r\n    this._createCheckPolygon()\r\n    if (this.isUseCanvas()) {\r\n      this._createCustomLayer() // 后面优化.\r\n    } else {\r\n      this._createPolygon()\r\n      this._overLayGroup = new AMap.OverlayGroup(this._polygons)\r\n    }\r\n\r\n    // 创建文字\r\n    let TextClass = getDefaultByundefined(opt.textClass, NormalText)\r\n    if (TextClass) this._createText(TextClass)\r\n  }\r\n\r\n  _createText(TextClass) {\r\n    if (this._textObj) {\r\n      typeof this._textObj.destroy === 'function' && this._textObj.destroy()\r\n      this._textObj = null\r\n    }\r\n    if (!TextClass) {\r\n      console.warn('未找到文字对象,检查textClass参数', TextClass)\r\n      return\r\n    }\r\n    let minZoom = getDefaultByundefined(this._textOption.minZoom, MIN_ZOOM)\r\n    let maxZoom = getDefaultByundefined(this._textOption.maxZoom, MAX_ZOOM)\r\n    let zoom = getIntersection(this.__minZoom, this.__maxZoom, minZoom, maxZoom)\r\n    let opt = {\r\n      map: this.getMap(),\r\n      position: this.getPosition(),\r\n      zIndex: this.getzIndex(),\r\n      ...this._textOption,\r\n      ...zoom\r\n    }\r\n    this._textObj = new TextClass(opt)\r\n  }\r\n\r\n  // 创建简易网格\r\n  _createCheckPolygon() {\r\n    if (!this.hasCheckPolygon()) return\r\n    if (this._checkCoordinate.length > 1) {\r\n      console.warn('checkCoordinate建议设置为单区域简单多边形以提高性能')\r\n    }\r\n    this._checkPolygons = this._checkCoordinate.map(coordinate => {\r\n      let polygon = new AMap.Polygon({\r\n        path: coordinate,\r\n        strokeOpacity: 0,\r\n        strokeWeight: 0,\r\n        fillOpacity: 0,\r\n        zIndex: this.__zIndex + 1,\r\n        bubble: true\r\n      })\r\n      this._addEvent(polygon)\r\n      return polygon\r\n    })\r\n  }\r\n\r\n  // 创建区域网格\r\n  _createPolygon() {\r\n    // 如果有简易区域则不需要绑定事件,否则需要绑定事件\r\n    let hasBindEvent = this.hasCheckPolygon()\r\n\r\n    this._polygons = this._coordinate.map(coordinate => {\r\n      let polygon = new AMap.Polygon({\r\n        path: coordinate,\r\n        strokeColor: this._strokeColor,\r\n        strokeOpacity: this._strokeOpacity,\r\n        strokeWeight: this._strokeWeight,\r\n        fillColor: this._fillColor,\r\n        fillOpacity: this._fillOpacity,\r\n        zIndex: this.__zIndex,\r\n        bubble: true\r\n      })\r\n      if (!hasBindEvent) this._addEvent(polygon)\r\n      return polygon\r\n    })\r\n  }\r\n\r\n  _createCustomLayer() {\r\n    // TODO\r\n    let canvas = this._canvas = document.createElement('canvas')\r\n    this._ctx = canvas.getContext('2d')\r\n    let map = this.getMap()\r\n    if (map) {\r\n      let size = this.getMap().getSize();\r\n      canvas.width = this._canvas_width = size.width;\r\n      canvas.height = this._canvas_height = size.height;\r\n    }\r\n    this._cus = new AMap.CustomLayer(canvas, {\r\n      zIndex: 10\r\n    })\r\n    this._cus.render = this._draw.bind(this)\r\n  }\r\n  _draw() {\r\n    this._clearCanvas(this._ctx)\r\n    this._drawCanvas(this._ctx)\r\n  }\r\n\r\n  _clearCanvas(ctx) {\r\n    ctx.clearRect(0, 0, this._canvas_width, this._canvas_height)\r\n  }\r\n\r\n  _drawCanvas(ctx) {\r\n    ctx.save()\r\n    ctx.strokeStyle = this._strokeColor\r\n    ctx.lineWidth = this._strokeWeight\r\n    ctx.fillStyle = this._fillColor\r\n\r\n    this._coordinate.forEach(arr => {\r\n      let pixels = arr.map(t => this.getMap().lngLatToContainer(t))\r\n      ctx.beginPath()\r\n      ctx.globalAlpha = this._strokeOpacity\r\n      pixels.forEach(pixel => {\r\n        ctx.lineTo(pixel.getX(), pixel.getY())\r\n      })\r\n      ctx.closePath()\r\n      ctx.stroke()\r\n      ctx.globalAlpha = this._fillOpacity\r\n      ctx.fill()\r\n    })\r\n    ctx.restore();\r\n  }\r\n\r\n  _addEvent(overlays) {\r\n    overlays.on('mouseover', this._mouseOver)\r\n    overlays.on('mouseout', this._mouseOut)\r\n    overlays.on('click', this._clickHandle)\r\n  }\r\n  // 移出区域\r\n  _mouseOut(e) {\r\n    typeof this._mouseout === 'function' && this._mouseout.call(this, this.getExtData(), e, this)\r\n  }\r\n  // 鼠标移入区域\r\n  _mouseOver(e) {\r\n    typeof this._mouseover === 'function' && this._mouseover.call(this, this.getExtData(), e, this)\r\n  }\r\n  _clickHandle(e) {\r\n    typeof this._click === 'function' && this._click.call(this, this.getExtData(), e, this)\r\n  }\r\n\r\n  isUseCanvas() {\r\n    return !!this._useCanvas\r\n  }\r\n\r\n  // 获取文字对象,进行更多文字操作\r\n  getText() {\r\n    return this._textObj || null\r\n  }\r\n\r\n  setText(textObj) {\r\n    let oldText = this.getText()\r\n    if (oldText) oldText.destroy()\r\n    this._textObj = textObj\r\n    if (this.getMap()) {\r\n\r\n    }\r\n  }\r\n\r\n  // 获取网格样式\r\n  getPolygonStyle() {\r\n    return {\r\n      strokeColor: this._strokeColor,\r\n      strokeOpacity: this._strokeOpacity,\r\n      strokeWeight: this._strokeWeight,\r\n      fillColor: this._fillColor,\r\n      fillOpacity: this._fillOpacity\r\n    }\r\n  }\r\n\r\n  // 设置网格样式\r\n  setPolygonStyle(opt = {}) {\r\n    const KEY_LIST = ['fillColor', 'fillOpacity', 'strokeColor', 'strokeOpacity', 'strokeWeight']\r\n    if (this.__changeOptions(opt, KEY_LIST)) {\r\n      if (this.isUseCanvas()) {\r\n        this._draw()\r\n      } else {\r\n        this._overLayGroup.setOptions(opt)\r\n      }\r\n    }\r\n  }\r\n  // override\r\n  getOverlays() {\r\n    let checkPolygon = this._checkPolygons || []\r\n\r\n    let rst = [...checkPolygon]\r\n    if (this._polygons) rst.push(...this._polygons)\r\n    let text = this.getText()\r\n    if (text) rst.push(text)\r\n    if (this._cus) rst.push(this._cus)\r\n    return rst\r\n  }\r\n\r\n  setMap(map) {\r\n    super.setMap(map)\r\n    if (map) {\r\n      if (this.isUseCanvas()) {\r\n        let canvas = this._canvas\r\n        let size = map.getSize();\r\n        canvas.width = this._canvas_width = size.width;\r\n        canvas.height = this._canvas_height = size.height;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  // 判断是否存在简易网格\r\n  hasCheckPolygon() {\r\n    return this._checkCoordinate && this._checkCoordinate.length > 0\r\n  }\r\n\r\n  // 销毁\r\n  destroy() {\r\n    super.destroy()\r\n  }\r\n}","import {\r\n  getMergeObject,\r\n  getDefaultByundefined\r\n} from '../../js/utils.js'\r\nimport Overlays from '../base/Overlays'\r\nimport Polyrect from '../Polyrect/Polyrect'\r\n/**\r\n * opt :\r\n * map\r\n * strokeColor\r\n * strokeOpacity\r\n * strokeWeight\r\n * fillColor\r\n * fillOpacity\r\n * textOption\r\n * textClass\r\n * useCanvas\r\n * click\r\n * mouseover\r\n * mouseout\r\n */\r\nexport default class PolyrectList extends Overlays {\r\n  constructor(opt) {\r\n    super(opt)\r\n    this._clickHandle = this._clickHandle.bind(this)\r\n    this._mouseOut = this._mouseOut.bind(this)\r\n    this._mouseOver = this._mouseOver.bind(this)\r\n    this._initialize(opt || {})\r\n  }\r\n\r\n  _clickHandle(extData, e, polyrect) {\r\n    typeof this._click === 'function' && this._click.call(this, polyrect, e)\r\n  }\r\n  _mouseOut(extData, e, polyrect) {\r\n    typeof this._mouseout === 'function' && this._mouseout.call(this, polyrect, e)\r\n  }\r\n  _mouseOver(extData, e, polyrect) {\r\n    typeof this._mouseover === 'function' && this._mouseover.call(this, polyrect, e)\r\n  }\r\n  _initialize(opt) {\r\n    this._strokeColor = opt.strokeColor || '#f00'\r\n    this._strokeOpacity = getDefaultByundefined(opt.strokeOpacity, 0.8)\r\n    this._strokeWeight = getDefaultByundefined(opt.strokeWeight, 1)\r\n    this._fillColor = opt.fillColor || 'blue'\r\n    this._fillOpacity = getDefaultByundefined(opt.fillOpacity, 0.2)\r\n    this._textOption = opt.textOption\r\n\r\n    this._click = opt.click\r\n    this._mouseover = opt.mouseover\r\n    this._mouseout = opt.mouseout\r\n\r\n    this._useCanvas = getDefaultByundefined(opt.useCanvas, false)\r\n    this._textClass = opt.textClass\r\n\r\n    this._polyrects = []\r\n  }\r\n\r\n  getPolygonStyle() {\r\n    return {\r\n      strokeColor: this._strokeColor,\r\n      strokeOpacity: this._strokeOpacity,\r\n      strokeWeight: this._strokeWeight,\r\n      fillColor: this._fillColor,\r\n      fillOpacity: this._fillOpacity\r\n    }\r\n  }\r\n\r\n  setPolygonStyle(opt = {}) {\r\n    const KEY_LIST = ['fillColor', 'fillOpacity', 'strokeColor', 'strokeOpacity', 'strokeWeight']\r\n    if (this.__changeOptions(opt, KEY_LIST)) {\r\n      if (this._polyrects && this._polyrects.length > 0) {\r\n        this._polyrects.forEach(polyrect => {\r\n          polyrect.setPolygonStyle(opt)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Array(opt)} list \r\n   * opt :\r\n   * checkCoordinate\r\n   * coordinate\r\n   * longitude\r\n   * latitude\r\n   * strokeColor\r\n   * strokeWeight\r\n   * strokeOpacity\r\n   * fillColor\r\n   * fillOpacity\r\n   * textOption\r\n   * textClass\r\n   * extData\r\n   */\r\n  setData(list) {\r\n    this.clear()\r\n    let g = getDefaultByundefined\r\n    this._polyrects = list.map(item => {\r\n      let opt = {\r\n        map: this.getMap(),\r\n        checkCoordinate: item.checkCoordinate,\r\n        coordinate: item.coordinate,\r\n        position: item.position,\r\n        strokeColor: g(item.strokeColor, this._strokeColor),\r\n        strokeWeight: g(item.strokeWeight, this._strokeWeight),\r\n        strokeOpacity: g(item.strokeOpacity, this._strokeOpacity),\r\n        fillColor: g(item.fillColor, this._fillColor),\r\n        fillOpacity: g(item.fillOpacity, this._fillOpacity),\r\n        textOption: getMergeObject(this._textOption, item.textOption),\r\n        textClass: g(item.textClass, this._textClass),\r\n        useCanvas: this._useCanvas,\r\n        click: this._clickHandle,\r\n        mouseout: this._mouseOut,\r\n        mouseover: this._mouseOver,\r\n        extData: item.extData || item,\r\n        zIndex: item.zIndex || this.getzIndex()\r\n      }\r\n      return new Polyrect(opt)\r\n    })\r\n  }\r\n\r\n  getPolyrects() {\r\n    let list = this._polyrects || []\r\n    return [...list]\r\n  }\r\n\r\n  showText() {\r\n    let list = this.getPolyrects()\r\n    list.forEach(polyrect => {\r\n      let text = polyrect.getText()\r\n      if (text) text.setMap(this.getMap())\r\n    })\r\n  }\r\n\r\n  hideText() {\r\n    let list = this.getPolyrects()\r\n    list.forEach(polyrect => {\r\n      let text = polyrect.getText()\r\n      if (text) text.setMap(null)\r\n    })\r\n  }\r\n\r\n  clear() {\r\n    let list = this.getOverlays()\r\n    if (list && list.length > 0) {\r\n      list.forEach(polyrect => {\r\n        polyrect.destroy()\r\n      })\r\n      this._polyrects = []\r\n    }\r\n  }\r\n\r\n  getOverlays() {\r\n    return this.getPolyrects()\r\n  }\r\n\r\n  destroy() {\r\n    super.destroy()\r\n  }\r\n\r\n}","import './Text3D.scss'\r\nimport {\r\n  DEFAULT_IMAGE_WIDTH,\r\n  DEFAULT_IMAGE_HEIGHT\r\n} from '../base/Enum'\r\nimport Overlays from '../base/Overlays'\r\n\r\n/**\r\n * opt :\r\n * text 文字内容\r\n * textColor 文字颜色\r\n * isShowRipples 是否显示涟漪\r\n * imageOption : {\r\n *  height,width,src\r\n * }\r\n * className 标记点自定义class\r\n * click, 点击事件\r\n * mouseover, 鼠标移入事件\r\n * mouseout 鼠标移出事件\r\n * \r\n * methods\r\n * showRipples    //显示涟漪效果\r\n * closeRipples   //关闭涟漪效果\r\n * getValue   //获取文字内容\r\n * setValue   // 设置文字内容\r\n */\r\nexport default class Text3D extends Overlays {\r\n  constructor(opt) {\r\n    super(opt)\r\n    this._clickHandle = this._clickHandle.bind(this)\r\n    this._mouseOut = this._mouseOut.bind(this)\r\n    this._mouseOver = this._mouseOver.bind(this)\r\n    this._initialize(opt || {})\r\n  }\r\n\r\n  _initialize(opt) {\r\n    this._text = opt.text || ''\r\n    this._textColor = opt.textColor\r\n    this._showRipples = !!opt.isShowRipples\r\n    this._imageOption = opt.imageOption || {}\r\n    this._className = opt.className\r\n\r\n    this._click = opt.click\r\n    this._mouseover = opt.mouseover\r\n    this._mouseout = opt.mouseout\r\n\r\n    this._createMarker()\r\n  }\r\n\r\n  // 展示涟漪效果\r\n  showRipples() {\r\n    let dom = this._dom\r\n    dom.smallCircle.style.display = 'block'\r\n    dom.largeCircle.style.display = 'block'\r\n    this._showRipples = true;\r\n  }\r\n\r\n  closeRipples() {\r\n    let dom = this._dom\r\n    dom.smallCircle.style.display = '';\r\n    dom.largeCircle.style.display = '';\r\n    this._showRipples = false\r\n  }\r\n\r\n  _clickHandle(e) {\r\n    typeof this._click === 'function' && this._click.call(this, this.getExtData(), e)\r\n  }\r\n  _mouseOut(e) {\r\n    typeof this._mouseout === 'function' && this._mouseout.call(this, this.getExtData(), e)\r\n  }\r\n  _mouseOver(e) {\r\n    typeof this._mouseover === 'function' && this._mouseover.call(this, this.getExtData(), e)\r\n  }\r\n\r\n  _createMarker() {\r\n    let dom = this._dom = this._createElement()\r\n    let height = this._imageOption.height || DEFAULT_IMAGE_HEIGHT\r\n    dom.body.addEventListener('mouseenter', this._mouseOver)\r\n    dom.body.addEventListener('mouseleave', this._mouseOut)\r\n    dom.body.addEventListener('click', this._clickHandle)\r\n    let marker = new AMap.Marker({\r\n      position: this.__position,\r\n      offset: new AMap.Pixel(0, -height - 20),\r\n      content: dom.body,\r\n      zIndex: this.getzIndex()\r\n    })\r\n    this.setOverlays(marker)\r\n    if (this._showRipples) {\r\n      this.showRipples()\r\n    }\r\n  }\r\n\r\n  getValue() {\r\n    // return this._dom.text.innerText\r\n    return this._text\r\n  }\r\n\r\n  setValue(value) {\r\n    this._dom.text.innerText = strText\r\n    this._text = strText\r\n  }\r\n\r\n  _createElement() {\r\n    let height = this._imageOption.height || DEFAULT_IMAGE_HEIGHT\r\n    let body = document.createElement('div')\r\n    body.className = 'dcmap-text3d-container ' + this._className\r\n    body.style.height = (height + 30) + 'px'\r\n    // 涟漪效果\r\n    let smallCircle = document.createElement('div');\r\n    smallCircle.className = 'map-point-small-circle'\r\n    body.appendChild(smallCircle);\r\n\r\n    let largeCircle = document.createElement('div');\r\n    largeCircle.className = 'map-point-large-circle';\r\n    body.appendChild(largeCircle)\r\n\r\n    let text = document.createElement('span')\r\n    text.className = 'map-point-text-dom'\r\n    text.style.color = this._textColor\r\n    text.innerText = this._text\r\n    body.appendChild(text)\r\n\r\n    let img = document.createElement('div')\r\n    img.className = 'map-point-img-dom'\r\n    img.style.width = this._imageOption.width || DEFAULT_IMAGE_WIDTH\r\n    img.style.height = height\r\n    if (this._imageOption.src) {\r\n      img.style.backgroundImage = `url('${this._imageOption.src}')`\r\n    }\r\n\r\n    body.appendChild(img)\r\n\r\n    return {\r\n      body,\r\n      text,\r\n      img,\r\n      smallCircle,\r\n      largeCircle\r\n    }\r\n\r\n  }\r\n\r\n}","// import Overlays from '../base/Overlays'\r\nimport {\r\n  getAngle\r\n} from '../../js/utils'\r\n/**\r\n * opt\r\n * map 高德地图实例(必传)\r\n * center 雷达圆心 (必传)\r\n * target 雷达扫描半径所在点(必传) 用来确定雷达扫描起始点以及半径\r\n * coverNumber 雷达扫描消失参数 (与speed共同定义雷达尾巴宽度,默认0.05)\r\n * speed 雷达扫描速度(多少秒扫完一圈)\r\n * fillStyle 雷达扫描颜色\r\n * callback 雷达扫描回调\r\n */\r\nexport default class RadarChart {\r\n  constructor(opt) {\r\n    this._draw = this._draw.bind(this)\r\n    this._initialize(opt || {})\r\n  }\r\n\r\n  _initialize(opt) {\r\n    this._map = opt.map\r\n    this._center = opt.center\r\n    this._target = opt.target\r\n    this._speed = opt.speed || 60\r\n    this._coverNumber = opt.coverNumber || 0.2;\r\n    this._fillStyle = opt.fillStyle || 'rgba(0,200,0,0.7)'\r\n    this._callback = opt.callback\r\n\r\n    this._isStart = false\r\n\r\n    this._deg = 360 - ~~getAngle(...this._center, ...this._target)\r\n    this._createCanvasLayer()\r\n  }\r\n  _createCanvasLayer() {\r\n    let canvas = (this._canvas = document.createElement('canvas'))\r\n    this._ctx = canvas.getContext('2d')\r\n    let positionObj = getPixel(this._center, this._target)\r\n    let minPixel = this._map.lngLatToContainer(positionObj.minPosition)\r\n    let maxPixel = this._map.lngLatToContainer(positionObj.maxPosition)\r\n    //canvas.width = this._width = maxPixel.getX() - minPixel.getX()\r\n    //canvas.height = this._height = minPixel.getY() - maxPixel.getY()\r\n    canvas.width = canvas.height = this._width = this._height = maxPixel.getX() - minPixel.getX()\r\n\r\n    // console.log(this._width, this._height, '宽高')\r\n    this._clayer = new AMap.CanvasLayer({\r\n      canvas: canvas,\r\n      bounds: new AMap.Bounds(positionObj.minPosition, positionObj.maxPosition),\r\n      zIndex: 100\r\n    })\r\n\r\n    // this._canvas2 = document.createElement('canvas')\r\n    // this._ctx2 = this._canvas2.getContext('2d')\r\n    // this._canvas2.width = this._canvas2.height = canvas.width\r\n    // this._clayer2 = new AMap.CanvasLayer({\r\n    //   canvas: this._canvas2,\r\n    //   bounds: new AMap.Bounds(positionObj.minPosition, positionObj.maxPosition),\r\n    //   zIndex: 101\r\n    // })\r\n    // this._drawCircle()\r\n    this._clayer.setMap(this._map)\r\n    // this._clayer2.setMap(this._map)\r\n  }\r\n\r\n  start() {\r\n    if (this._isStart) return\r\n    this._isStart = true\r\n    this._draw()\r\n  }\r\n\r\n  stop() {\r\n    if (this._isStart) {\r\n      this._isStart = false\r\n      setTimeout(() => {\r\n        this._ctx.clearRect(0, 0, this._width, this._height)\r\n      }, 1);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.stop()\r\n    this._clayer.setMap(null)\r\n    this._clayer = null\r\n  }\r\n\r\n  _drawCircle() {\r\n\r\n    let radius = (this._width > this._height ? this._height : this._width) / 2\r\n    let ctx = this._ctx2\r\n    ctx.clearRect(0, 0, this._width, this._height)\r\n    ctx.fillStyle = this._fillStyle\r\n    ctx.globalAlpha = 0.2\r\n    ctx.beginPath()\r\n    ctx.moveTo(this._width / 2, this._height / 2)\r\n    ctx.arc(this._width / 2, this._height / 2, radius, 0, 2 * Math.PI)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n  }\r\n  _draw() {\r\n    let startDeg = this._deg\r\n    this._deg += 360 / this._speed\r\n    if (this._deg >= 360) this._deg = this._deg - 360\r\n\r\n    if (!this._isStart) {\r\n      return\r\n    }\r\n\r\n    this._drawRadar()\r\n    this._cover()\r\n    // ctx.fill()\r\n    this._clayer.reFresh()\r\n\r\n    if (typeof this._callback === 'function') {\r\n      this._callback.call(this, {\r\n        start: startDeg,\r\n        end: this._deg > startDeg ? this._deg : this._deg + startDeg\r\n      })\r\n    }\r\n    window.requestAnimationFrame(this._draw)\r\n  }\r\n\r\n  _drawRadar() {\r\n    let deg = this._deg\r\n    let ctx = this._ctx\r\n    let radius = (this._width > this._height ? this._height : this._width) / 2\r\n    ctx.save()\r\n    ctx.fillStyle = this._fillStyle\r\n    ctx.beginPath()\r\n    ctx.moveTo(this._width / 2, this._height / 2)\r\n    ctx.arc(this._width / 2, this._height / 2, radius, (-360 / this._speed + deg) / 180 * Math.PI, (deg) / 180 * Math.PI)\r\n    // ctx.arc(this._width / 2, this._height / 2, radius, 0, 2 / 180 * Math.PI)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.restore()\r\n  }\r\n\r\n  _cover() {\r\n    let ctx = this._ctx\r\n    ctx.save()\r\n    let radius = (this._width > this._height ? this._height : this._width) / 2\r\n    ctx.globalCompositeOperation = \"destination-out\";\r\n    ctx.fillStyle = `rgba(0,0,0,${this._coverNumber})`\r\n    // let centerPixel = this._map.lngLatToContainer(this._center)\r\n    // ctx.arc(this._width / 2, this._height / 2, radius, 0, 2 * Math.PI)\r\n    ctx.rect(0, 0, this._width, this._height)\r\n    ctx.fill()\r\n    ctx.restore()\r\n  }\r\n\r\n  _clearRect() {\r\n    let ctx = this._ctx\r\n    ctx.clearRect(0, 0, this.width, this.height)\r\n  }\r\n}\r\n\r\nfunction getPixel(center, target) {\r\n  let dis = Math.sqrt(\r\n    Math.pow(target[0] - center[0], 2) + Math.pow(target[1] - center[1], 2)\r\n  )\r\n\r\n  return {\r\n    minPosition: [center[0] - dis, center[1] - dis],\r\n    maxPosition: [center[0] + dis, center[1] + dis]\r\n  }\r\n}","/**\r\n * opt\r\n * map\r\n * textColor\r\n * font\r\n */\r\nexport default class TextQueue {\r\n  constructor(opt) {\r\n    this._draw = this._draw.bind(this)\r\n    this._initialize(opt || {})\r\n  }\r\n  _initialize(opt) {\r\n    this._map = opt.map\r\n    this._list = []\r\n    this._textColor = opt.textColor || '#fff'\r\n    this._font = opt.font || '20px Arial'\r\n    this._start = false\r\n    this._createLayer()\r\n  }\r\n\r\n  _createLayer() {\r\n    let canvas = this._canvas = document.createElement('canvas')\r\n    this._ctx = canvas.getContext('2d')\r\n    let size = this._map.getSize()\r\n    canvas.width = this._width = size.width\r\n    canvas.height = this._height = size.height\r\n    this._cus = new AMap.CustomLayer(canvas, {\r\n      map: this._map,\r\n      zIndex: 100\r\n    })\r\n    this._cus.render = this.reload.bind(this)\r\n  }\r\n\r\n  reload() {\r\n    this._list = this._list.map(t => {\r\n      return {\r\n        ...t,\r\n        _pixel: null\r\n      }\r\n    })\r\n  }\r\n\r\n  _draw() {\r\n    if (this.getMap() != null) {\r\n      this._clearCanvas()\r\n      this._drawCanvas()\r\n      if (this._list.length > 0) {\r\n        window.requestAnimationFrame(this._draw)\r\n      } else {\r\n        this._start = false\r\n      }\r\n    } else {\r\n      this._start = false\r\n    }\r\n  }\r\n\r\n  _clearCanvas() {\r\n    let ctx = this._ctx\r\n    ctx.clearRect(0, 0, this._width, this._height)\r\n  }\r\n\r\n  _drawCanvas() {\r\n    if (this.getMap() == null) return\r\n    // console.log('draw')\r\n    let ctx = this._ctx\r\n    let now = Date.now()\r\n    ctx.textAlign = 'center'\r\n    ctx.textBaseline = \"middle\"\r\n    ctx.fillStyle = this._textColor\r\n    ctx.font = this._font\r\n    for (let i = 0; i < this._list.length; i++) {\r\n      const obj = this._list[i];\r\n      let timer = (now - obj._time) / 1000\r\n      if (timer > 3) {\r\n        obj._del = true\r\n        continue\r\n      }\r\n      let pixel = obj._pixel || this._map.lngLatToContainer(obj.position)\r\n      obj._pixel = pixel\r\n      ctx.save()\r\n      ctx.translate(pixel.getX(), pixel.getY())\r\n      let scale = 1 // 缩放因子\r\n      let opacity = 1\r\n      if (timer < 1) { // 放大\r\n        scale = scale / timer\r\n        opacity = timer\r\n      } else if (timer > 2) { // 缩小\r\n        // scale = 3 - timer\r\n        opacity = 3 - timer\r\n        scale = opacity\r\n      }\r\n      if (scale != 1) {\r\n        ctx.scale(scale, scale)\r\n\r\n      }\r\n      if (opacity != 1) {\r\n        ctx.globalAlpha = opacity\r\n      }\r\n      if (obj.textColor) {\r\n        ctx.fillStyle = obj.textColor\r\n      }\r\n      if (obj.font) {\r\n        ctx.font = obj.font\r\n      }\r\n      ctx.fillText(obj.text, 0, 0)\r\n      ctx.restore()\r\n    }\r\n    this._list = this._list.filter(t => !t._del)\r\n  }\r\n  /**\r\n   * 加入到弹幕队列\r\n   * @param {Object} objs \r\n   * position : [x,y]\r\n   * text : String 文本信息\r\n   * textColor : 文字颜色\r\n   * font : String\r\n   */\r\n  push(...objs) {\r\n    objs.forEach(obj => {\r\n      this._list.push({\r\n        ...obj,\r\n        _time: Date.now()\r\n      })\r\n    });\r\n    if (!this._start) {\r\n      this._start = true\r\n      this._draw()\r\n    }\r\n  }\r\n\r\n  setMap(map) {\r\n    this._map = map\r\n    this._cus.setMap(map)\r\n    if (map == null) {\r\n      this._start = false\r\n    } else if (!this._start) {\r\n      this._start = true\r\n      this._draw()\r\n    }\r\n\r\n  }\r\n\r\n  getMap() {\r\n    return this._map || null\r\n  }\r\n\r\n  destroy() {\r\n    this.setMap(null)\r\n    this._cus = null\r\n  }\r\n\r\n}","import './ShadowText.scss'\r\nimport Overlays from '../base/Overlays'\r\nimport {\r\n  getTextWidth\r\n} from '../../js/utils'\r\n\r\n\r\nexport default class ShadowText extends Overlays {\r\n  constructor(opt) {\r\n    super(opt)\r\n    this._initialize(opt || {})\r\n  }\r\n  _initialize(opt) {\r\n    this._text = opt.text || '未输入文字'\r\n    this._textColor = opt.textColor || '#fff'\r\n    this._textSize = opt.textSize || 20\r\n    this._shaderRatio = opt.shaderRatio || 1.2\r\n    this._offsetTop = opt.offsetTop || 0\r\n    this._offsetLeft = opt.offsetLeft || 0\r\n    this._createMarker()\r\n  }\r\n  _createMarker() {\r\n    let width = getTextWidth(this._text, this._textSize)\r\n    let height = this._textSize\r\n    this._dom = this._createElement(height, width)\r\n    let marker = new AMap.Marker({\r\n      position: this.getPosition(),\r\n      offset: new AMap.Pixel(\r\n        -this._shaderRatio * width / 2 + this._offsetLeft,\r\n        -height / 3 * 2 + this._offsetTop\r\n      ),\r\n      content: this._dom.body,\r\n      zIndex: this.getzIndex()\r\n    })\r\n    this.setOverlays(marker)\r\n  }\r\n\r\n  _createElement(height, width) {\r\n    let body = document.createElement('div')\r\n    body.className = 'dcmap-shadowtext-container'\r\n    body.style.width = width * this._shaderRatio + 'px'\r\n    body.style.height = height * 2 + 'px'\r\n\r\n    let text = document.createElement('div')\r\n    text.className = 'dcmap-shadowtext-text'\r\n    text.style.fontSize = this._textSize + 'px'\r\n    text.style.color = this._textColor\r\n    text.innerText = this._text\r\n    body.appendChild(text)\r\n\r\n    let shadow = document.createElement('div')\r\n    shadow.className = 'dcmap-shadowtext-shadow'\r\n    shadow.style.top = height / 2 + 'px'\r\n    body.appendChild(shadow)\r\n\r\n    return {\r\n      body,\r\n      text,\r\n      shadow\r\n    }\r\n  }\r\n}","export default class gl_Overlays {\r\n  constructor(opt) {\r\n    this.__initialize(opt || {})\r\n  }\r\n  __initialize(opt) {\r\n    this.CLASS_NAME = this.constructor.name\r\n    this.__object3DLayer = opt.object3DLayer\r\n    this.__map = opt.map\r\n    this.__extData = opt.extData\r\n  }\r\n  // 对overlays递归调用methodName方法.\r\n  /**\r\n   * \r\n   * @param {Object} overlays \r\n   * @param {Function} method \r\n   * @param {*} methodArguments \r\n   */\r\n  __callMethod(obj, methodName, overlays) {\r\n    if (overlays == null) return\r\n    if (Array.isArray(overlays)) {\r\n      overlays.forEach(o => {\r\n        // o[methodName](...methodArguments)\r\n        this.__callMethod(obj, methodName, o)\r\n      })\r\n    } else if (overlays != undefined) {\r\n      // method(overlays, ...methodArguments)\r\n      obj[methodName](overlays)\r\n    } else {\r\n      console.warn('传入值不是实例对象', overlays)\r\n    }\r\n  }\r\n  getExtData() {\r\n    return this.__extData\r\n  }\r\n  setExtData(data) {\r\n    this.__extData = data\r\n  }\r\n  getMap() {\r\n    return this.__map\r\n  }\r\n  setMap(map) {\r\n    this.__map = map\r\n  }\r\n  getObject3DLayer() {\r\n    return this.__object3DLayer || null\r\n  }\r\n  setObject3DLayer(object3dLayer) {\r\n    this.__object3DLayer = object3dLayer\r\n  }\r\n  // object3d\r\n  getOverlays() {\r\n    return this.__overlays\r\n  }\r\n  setOverlays(overlays) {\r\n    this.__overlays = overlays\r\n  }\r\n  show() {\r\n    let object3DLayer = this.__object3DLayer\r\n    if (object3DLayer) {\r\n      let overlays = this.getOverlays()\r\n      // this.__callMethod(overlays, object3DLayer.add)\r\n      this.__callMethod(object3DLayer, 'add', overlays)\r\n    }\r\n  }\r\n  hide() {\r\n    let object3DLayer = this.__object3DLayer\r\n    if (object3DLayer) {\r\n      let overlays = this.getOverlays()\r\n      // this.__callMethod(overlays, object3DLayer.remove)\r\n      this.__callMethod(object3DLayer, 'remove', overlays)\r\n    }\r\n  }\r\n  destroy() {\r\n    this.hide()\r\n    this.__object3DLayer = null\r\n  }\r\n}","import gl_Overlays from '../base/gl_Overlays'\r\nimport {\r\n  getDefaultByundefined,\r\n  transposePolyrect\r\n} from '../../js/utils'\r\nimport NormalText from '../NormalText/NormalText.js'\r\n/**\r\n * opt :\r\n * map 必传\r\n * object3DLayer\r\n * coordinate\r\n * color\r\n * height\r\n * transparent\r\n * extData\r\n * \r\n * position\r\n * textOption\r\n * textClass\r\n */\r\nexport default class gl_Polyrect extends gl_Overlays {\r\n  constructor(opt) {\r\n    super(opt)\r\n    this._initialize(opt || {})\r\n    this._clickHandle = this._clickHandle.bind(this)\r\n  }\r\n  _initialize(opt) {\r\n    this._height = opt.height || 5000\r\n    this._color = opt.color || '#0088ffcc'\r\n\r\n    this._transparent = getDefaultByundefined(opt.transparent, true)\r\n    let list = transposePolyrect(opt.coordinate)\r\n    this._coordinate = this.lngLatToGeodeticCoord(list)\r\n\r\n    this._click = opt.click\r\n\r\n    this._position = opt.position\r\n    this._textOption = opt.textOption || {\r\n      text: opt.text || '未输入文字内容',\r\n      textColor: opt.textColor || 'red'\r\n    }\r\n    let TextClass = getDefaultByundefined(opt.textClass, NormalText)\r\n    if (TextClass) this._createText(TextClass)\r\n  }\r\n  _clickHandle() {\r\n\r\n  }\r\n  _createText(TextClass) {\r\n    if (this._textObj) {\r\n      typeof this._textObj.destroy === 'function' && this._textObj.destroy()\r\n      this._textObj = null\r\n    }\r\n    let opt = {\r\n      map: this.getMap(),\r\n      position: this._position,\r\n      ...this._textOption\r\n    }\r\n    this._textObj = new TextClass(opt)\r\n  }\r\n  getOverlays() {\r\n    let prism = this._prism\r\n    if (!prism) {\r\n      prism = new AMap.Object3D.Prism({\r\n        path: this._coordinate,\r\n        height: this._height,\r\n        color: this._color\r\n      })\r\n      prism.transparent = this._transparent\r\n      this._prism = prism\r\n    }\r\n    // console.log(prism)\r\n    return prism\r\n  }\r\n\r\n  show() {\r\n    super.show()\r\n    if (this._textObj) {\r\n      this._textObj.setMap(this.getMap())\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    super.hide()\r\n    if (this._textObj) {\r\n      this._textObj.setMap(null)\r\n    }\r\n  }\r\n\r\n  getText() {\r\n    return this._textObj || null\r\n  }\r\n\r\n  lngLatToGeodeticCoord(list) {\r\n    let map = this.getMap()\r\n    for (let i = 0; i < list.length; i++) {\r\n      const area = list[i];\r\n      for (let s = 0; s < area.length; s++) {\r\n        var g = map.lngLatToGeodeticCoord(area[s])\r\n        area[s] = g\r\n      }\r\n    }\r\n    return list\r\n  }\r\n}","import gl_Overlays from '../base/gl_Overlays'\r\nimport gl_Polyrect from '../gl_Polyrect/gl_Polyrect'\r\nimport {\r\n  getMergeObject,\r\n  getDefaultByundefined\r\n} from '../../js/utils'\r\n/**\r\n * opt\r\n * map 必传\r\n * object3DLayer\r\n * color\r\n * height\r\n * transparent\r\n * textOption\r\n * textClass\r\n * click\r\n */\r\nexport default class gl_PolyrectList extends gl_Overlays {\r\n  constructor(opt) {\r\n    if (!opt.object3DLayer) {\r\n      opt.object3DLayer = new AMap.Object3DLayer();\r\n      opt.object3DLayer.setMap(opt.map)\r\n    }\r\n    super(opt)\r\n    this._clickHandle = this._clickHandle.bind(this)\r\n    this._initialize(opt)\r\n  }\r\n  _initialize(opt) {\r\n    this._height = opt.height || 5000\r\n    this._color = opt.color || '#0088ffcc'\r\n    this._transparent = getDefaultByundefined(opt.transparent, true)\r\n    this._textOption = opt.textOption\r\n    this._textClass = opt.textClass\r\n    this._click = opt.click\r\n    this._polyrects = []\r\n  }\r\n\r\n  _clickHandle(polyrect, data) {\r\n    typeof this._click === 'function' && this._click(polyrect, data)\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Array(opt)} list \r\n   * opt : \r\n   * coordinate 必传\r\n   * color\r\n   * height\r\n   * transparent\r\n   * extData\r\n   * textOption\r\n   * position 有文字需传\r\n   * textClass\r\n   */\r\n  setData(list, show = true) {\r\n    this.clear()\r\n    let g = getDefaultByundefined\r\n    this._polyrects = list.map(item => {\r\n      let opt = {\r\n        map: this.getMap(),\r\n        object3DLayer: this.getObject3DLayer(),\r\n        coordinate: item.coordinate,\r\n        color: g(item.color, this._color),\r\n        height: g(item.height, this._height),\r\n        transparent: g(item.transparent, this._transparent),\r\n        extData: item.extData || item,\r\n        position: item.position,\r\n        textClass: g(item.textClass, this._textClass),\r\n        textOption: getMergeObject(this._textOption, item.textOption)\r\n      }\r\n      return new gl_Polyrect(opt)\r\n    })\r\n\r\n    if (show) {\r\n      this.show()\r\n    }\r\n  }\r\n\r\n  getOverlays() {\r\n    // return [...this._polyrects]\r\n    return this._polyrects.map(polyrect => {\r\n      return polyrect.getOverlays()\r\n    })\r\n  }\r\n\r\n  clear() {\r\n    let list = this.getOverlays()\r\n    if (list && list.length) {\r\n      list.forEach(polyrect => {\r\n        polyrect.destroy()\r\n      })\r\n    }\r\n    this._polyrects = []\r\n  }\r\n\r\n  destroy() {\r\n    super.destroy()\r\n  }\r\n}","import Overlays from './components/base/Overlays'\r\n\r\nimport Polyrect from './components/Polyrect/Polyrect'\r\nimport PolyrectList from './components/PolyrectList/PolyrectList'\r\nimport NormalText from './components/NormalText/NormalText'\r\nimport Text3D from './components/Text3D/Text3D'\r\nimport RadarChart from './components/RadarChart/RadarChart'\r\nimport TextQueue from './components/TextQueue/TextQueue'\r\nimport ShadowText from './components/ShadowText/ShadowText'\r\nimport * as Utils from './js/utils'\r\n\r\nimport gl_Polyrect from './components/gl_Polyrect/gl_Polyrect'\r\nimport gl_PolyrectList from './components/gl_PolyrectList/gl_PolyrectList'\r\nexport default {\r\n  Overlays,\r\n  Polyrect,\r\n  NormalText,\r\n  Text3D,\r\n  PolyrectList,\r\n  RadarChart,\r\n  TextQueue,\r\n  ShadowText,\r\n  Utils,\r\n  gl_Polyrect,\r\n  gl_PolyrectList\r\n}"],"names":["Overlays","opt","__initialize","CLASS_NAME","constructor","name","__map","map","__position","position","__zIndex","zIndex","__extData","extData","setTimeout","setMap","overlays","methodName","methodArguments","Array","isArray","forEach","o","__callMethod","console","warn","keyList","isChange","list","Object","keys","key","sourceKey","value","undefined","getOverlays","data","__overlays","getMap","MIN_ZOOM","MAX_ZOOM","DEFAULT_IMAGE_WIDTH","DEFAULT_IMAGE_HEIGHT","getDefaultByundefined","ifundefineValue","transposePolyrect","coordinate","sep","arr","pattern","temp","split","t","re","mat","match","i","length","x","parseFloat","y","push","getTextWidth","str","fontSize","replace","getDiffObject","targetOpt","changeOpt","rst","changeFlag","targetValue","getIntersection","parentMin","parentMax","min","max","minZoom","maxZoom","getMergeObject","objs","reduce","pre","sur","getAngle","px","py","mx","my","Math","abs","z","sqrt","pow","cos","radina","acos","angle","PI","NormalText","_initialize","_text","text","_textColor","textColor","_paddingWidth","paddingWidth","_textSize","textSize","_paddingHeight","paddingHeight","_offsetTop","offsetTop","_offsetLeft","offsetLeft","_createMarker","width","height","dom","_dom","_createElement","marker","AMap","Marker","getPosition","offset","Pixel","content","body","bubble","getzIndex","setOverlays","document","createElement","className","style","color","innerText","appendChild","Polyrect","_clickHandle","bind","_mouseOut","_mouseOver","_strokeColor","strokeColor","_strokeOpacity","strokeOpacity","_strokeWeight","strokeWeight","_fillColor","fillColor","_fillOpacity","fillOpacity","_textOption","textOption","_click","click","_mouseover","mouseover","_mouseout","mouseout","_useCanvas","useCanvas","_coordinate","_checkCoordinate","checkCoordinate","_createCheckPolygon","isUseCanvas","_createCustomLayer","_createPolygon","_overLayGroup","OverlayGroup","_polygons","TextClass","textClass","_createText","_textObj","destroy","zoom","__minZoom","__maxZoom","hasCheckPolygon","_checkPolygons","polygon","Polygon","path","_addEvent","hasBindEvent","canvas","_canvas","_ctx","getContext","size","getSize","_canvas_width","_canvas_height","_cus","CustomLayer","render","_draw","_clearCanvas","_drawCanvas","ctx","clearRect","save","strokeStyle","lineWidth","fillStyle","pixels","lngLatToContainer","beginPath","globalAlpha","pixel","lineTo","getX","getY","closePath","stroke","fill","restore","on","e","call","getExtData","textObj","oldText","getText","KEY_LIST","__changeOptions","setOptions","checkPolygon","PolyrectList","polyrect","_textClass","_polyrects","setPolygonStyle","clear","g","item","getPolyrects","Text3D","_showRipples","isShowRipples","_imageOption","imageOption","_className","smallCircle","display","largeCircle","addEventListener","showRipples","strText","img","src","backgroundImage","RadarChart","_map","_center","center","_target","target","_speed","speed","_coverNumber","coverNumber","_fillStyle","_callback","callback","_isStart","_deg","_createCanvasLayer","positionObj","getPixel","minPixel","minPosition","maxPixel","maxPosition","_width","_height","_clayer","CanvasLayer","bounds","Bounds","stop","radius","_ctx2","moveTo","arc","startDeg","_drawRadar","_cover","reFresh","start","end","window","requestAnimationFrame","deg","globalCompositeOperation","rect","dis","TextQueue","_list","_font","font","_start","_createLayer","reload","_pixel","now","Date","textAlign","textBaseline","obj","timer","_time","_del","translate","scale","opacity","fillText","filter","ShadowText","_shaderRatio","shaderRatio","shadow","top","gl_Overlays","__object3DLayer","object3DLayer","object3dLayer","hide","gl_Polyrect","_color","_transparent","transparent","lngLatToGeodeticCoord","_position","prism","_prism","Object3D","Prism","area","s","gl_PolyrectList","Object3DLayer","show","getObject3DLayer","Utils"],"mappings":"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"}